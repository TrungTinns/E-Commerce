<!DOCTYPE html>
<html lang="en">

<!-- Head -->
<head>
    <!-- Page Meta Tags-->
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">

    <!-- Custom Google Fonts-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;600&family=Roboto:wght@300;400;700&display=auto"
          rel="stylesheet">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="~/assets/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="~/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="~/assets/images/favicon/favicon-16x16.png">
    <link rel="mask-icon" href="~/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <!-- Vendor CSS -->
    <link rel="stylesheet" href="~/assets/css/libs.bundle.css" />

    <!-- Main CSS -->
    <link rel="stylesheet" href="~/assets/css/theme.bundle.css" />

    <!-- Fix for custom scrollbar if JS is disabled-->
    <noscript>
        <style>
            /* Reinstate scrolling for non-JS clients */
            .simplebar-content-wrapper {
                overflow: auto;
            }
        </style>
    </noscript>

    <!-- Page Title -->
    <title>@ViewBag.Title</title>

    @RenderSection("Styles", required: false)

</head>

<body class="">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white flex-column border-0">
        <div class="container-fluid">
            <div class="w-100">
                <div class="d-flex justify-content-between align-items-center flex-wrap">

                    <!-- Logo-->
                    <a asp-action="Index" asp-controller="Home" class="navbar-brand fw-bold fs-3 m-0 p-0 flex-shrink-0 order-0">
                        <div class="d-flex align-items-center">
                            <svg class="f-w-7" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 77.53 72.26"><path d="M10.43,54.2h0L0,36.13,10.43,18.06,20.86,0H41.72L10.43,54.2Zm67.1-7.83L73,54.2,68.49,62,45,48.47,31.29,72.26H20.86l-5.22-9L52.15,0H62.58l5.21,9L54.06,32.82,77.53,46.37Z" fill="currentColor" fill-rule="evenodd" /></svg>
                        </div>
                    </a>
                    <!-- / Logo-->
                    <!-- Navbar Icons-->
                    <ul class="list-unstyled mb-0 d-flex align-items-center order-1 order-lg-2 nav-sidelinks">

                        <!-- Mobile Nav Toggler-->
                        <li class="d-lg-none">
                            <span class="nav-link text-body d-flex align-items-center cursor-pointer" data-bs-toggle="collapse"
                                  data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false"
                                  aria-label="Toggle navigation"><i class="ri-menu-line ri-lg me-1"></i> Menu</span>
                        </li>
                        <!-- /Mobile Nav Toggler-->
                        <!-- Navbar Search-->
                        <li class="d-none d-sm-block">
                            <span class="nav-link text-body search-trigger cursor-pointer" data-bs-toggle="modal" data-bs-target="#searchModal">Search</span>

                            <!-- Search navbar overlay-->
                            <div class="navbar-search d-none" id="searchModal">
                                <div class="input-group mb-3 h-100">
                                    <span id="searchButton"  class="input-group-text px-4 bg-transparent border-0">
                                        <i class="ri-search-line ri-lg"></i>
                                    </span>
                                    <input id="searchText" type="search" aria-describedby="searchButton" class="form-control text-body bg-transparent border-0"
                                           placeholder="Enter your search terms...">
                                    <span class="input-group-text px-4 cursor-pointer disable-child-pointer close-search bg-transparent border-0">
                                        <i class="ri-close-circle-line ri-lg"></i>
                                    </span>
                                </div>
                            </div>
                            <div class="search-overlay"></div>
                            <!-- / Search navbar overlay-->
                        </li>
                        <!-- /Navbar Search-->
                        <!-- Navbar Cart Icon-->
                        <li class="ms-1 d-inline-block position-relative dropdown-cart">
                            @await Component.InvokeAsync("Cart")
                        </li>
                        <!-- /Navbar Cart Icon-->
                        <!-- Navbar Login-->
                        <li class="ms-1 d-none d-lg-inline-block dropdown">
                            <a class="text-body nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    Account
                                </a>
                                <ul class="dropdown-menu">
                                     @if (User.Identity.IsAuthenticated)
                                {
                                    <li><a class="dropdown-item" asp-controller="User" asp-action="Profile">Profile</a></li>
                                    <li><a class="dropdown-item" asp-controller="User" asp-action="Logout">Logout</a></li>
                                }
                                else
                                {
                                    <li><a class="dropdown-item" asp-controller="User" asp-action="SignUp">Sign up</a></li>
                                    <li><a class="dropdown-item" asp-controller="User" asp-action="SignIn">Sign in</a></li>
                                    <li><a class="dropdown-item" asp-controller="User" asp-action="ForgetPassword">Forget password?</a></li>
                                }                      
                                </ul>
                        </li>
                        <!-- /Navbar Login-->
                    </ul>
                    <!-- Navbar Icons-->
                    <!-- Main Navigation-->
                    <div class="flex-shrink-0 collapse navbar-collapse navbar-collapse-light w-auto flex-grow-1 order-2 order-lg-1"
                         id="navbarNavDropdown">

                        <!-- Menu-->
                        <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a asp-action="Index" asp-controller="Home" class="nav-link" role="button">
                                    Home
                                </a>
                            </li>

                            <li class="nav-item">
                                <a asp-controller="Product" asp-action="Index" class="nav-link" role="button">
                                    Product
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    Category
                                </a>
                                <ul class="dropdown-menu">
                                    @await Component.InvokeAsync("CategoryMenu")
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="./category.html" role="button">
                                    Contact
                                </a>
                            </li>
                        </ul>
                        <!-- / Menu-->

                    </div>
                    <!-- / Main Navigation-->


                </div>
            </div>
        </div>

    </nav>

    <!-- RenderBody -->
    <div style="min-height:400px" class="hero-header">@RenderBody()</div>

    <!-- Footer -->
    @await Html.PartialAsync("_Footer")

    <!-- Vendor JS -->
    <script src="~/assets/js/vendor.bundle.js"></script>

    <!-- Theme JS -->
    <script src="~/assets/js/theme.bundle.js"></script>
    @RenderSection("Scripts", required: false)
    <script>
        $(document).ready(function () {
            $("#searchButton").click(function () {
                let url = '/Product/Search?query=' + $("#searchText").val();
                window.location.href = url;
            });
        });
    </script>
</body>
</html>
